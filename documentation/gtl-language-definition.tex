\lstdefinelanguage{gtl}
{
  morekeywords= {
	  import,
	  func,
	  getter,
	  setter,
	  after,
	  before,
	  between,
	  default,
	  do,
	  down,
	  up,
	  else,
	  elsif,
	  emptylist,
	  emptymap,
	  end,
	  error,
	  exists,
	  false,
	  for,
	  foreach,
	  from,
	  here,
	  unlet,
	  let,
	  loop,
	  no,
	  if,
	  in,
	  mod,
	  not,
	  or,
	  step,
	  template,
	  then,
	  to,
	  true,
	  yes,
	  warning,
	  while,
	  write,
	  display,
	  print,
	  println,
	  repeat,
	  input,
	  tab,
	  seed,
	  !,
	  ?,
	  isANumber,
	  description,
	  setDescription,
	  type,
	  touch,
	  string,
	  hexString,
	  xString,
	  numberOfBytes,
	  signedNumberOfBytes,
	  numberOfBits,
	  signedNumberOfBits,
	  sign,
	  fitsUnsignedInByte,
	  fitsSignedInByte,
	  fitsUnsignedInWord,
	  fitsSignedInWord,
	  fitsUnsignedInLong,
	  fitsSignedInLong,
	  fitsUnsignedInLongLong,
	  fitsSignedInLongLong,
	  abs,
	  bitAtIndex,
	  setBitAtIndex,
	  complementBitAtIndex,
	  majorVersion,
	  minorVersion,
	  revision,
	  max8bitsUnsignedInt,
	  max8bitsSignedInt,
	  min8bitsSignedInt,
	  max16bitsUnsignedInt,
	  max16bitsSignedInt,
	  min16bitsSignedInt,
	  max32bitsUnsignedInt,
	  max32bitsSignedInt,
	  min32bitsSignedInt,
	  max64bitsUnsignedInt,
	  max64bitsSignedInt,
	  min64bitsSignedInt,
	  random,
	  isAlnum,
	  isAlpha,
	  isDigit,
	  isCntrl,
	  isLower,
	  isUpper,
	  isXDigit,
	  cos,
	  sin,
	  tan,
	  cosDegree,
	  sinDegree,
	  tanDegree,
	  exp,
	  logn,
	  log2,
	  log10,
	  sqrt,
	  power,
	  charAtIndex,
	  indexOfChar,
	  indexOfCharInRange,
	  containsChar,
	  containsCharInRange,
	  HTMLRepresentation,
	  identifierRepresentation,
	  fileExists,
	  length,
	  lowercaseString,
	  capitalized,
	  uppercaseString,
	  leftSubString,
	  rightSubString,
	  subString,
	  reversedString,
	  componentsSeparatedByString,
	  columnPrefixedBy,
	  wrap,
	  subStringExists,
	  replaceString,
	  envVar,
	  envVarExists,
	  setCharAtIndex,
	  version,
	  currentDir,
	  homeDir,
	  currentDateTime,
	  trueFalse,
	  TrueFalse,
	  yesNo,
	  TRUEFALSE,
	  trueOrFalse,
	  yesOrNo,
	  TRUEOrFALSE,
	  YESOrNO,
	  int,
	  map,
	  first,
	  last,
	  mapBy,
	  subListTo,
	  subListFrom,
	  subList,
	  insert,
	  list,
	  executable,
	  variables,
	  getter,
	  setter,
	  self,
	  typeof,
	  mapof,
	  listof,
	  by,
	  sort,
	  contains,
	  add,
	  remove,
	  set
	},
  emph={
    condition,
    var,
    variable,
    expression,
    expression_start,
    expression_end,
    increment,
    literal_string,
    instruction_list,
    instruction_list_1,
    instruction_list_2,
    template_file_name,
    aGetter,
    aSetter,
    hierarchy,
    index_var,
    key,
    limit_expression,
    extension,
    file_reference,
    argument_list,
    formal_argument_list,
    func_name,
    getter_name,
    setter_name,
    result_var,
    a_type,
    identifier
  },
  emphstyle=\itshape,
  moredelim=[s][\color{blue}]{\%}{\%},
  moredelim=[s][\color{seagreen}]{"}{"},
  morecomment=[l][\color{medium-marroon}\itshape]{\#},
  basicstyle=\ttfamily\footnotesize,
  morekeywords=\bfseries,
  backgroundcolor=\color{light-blue},
  rulecolor=\color{light-blue},
  xleftmargin=0.5em,
  xrightmargin=0.5em,
  frame=single,
  framesep=0.5em
}

\lstdefinelanguage{gtl-tmode}
{
  basicstyle=\ttfamily\footnotesize\color{blue},
  backgroundcolor=\color{light-blue},
  rulecolor=\color{light-blue},
  xleftmargin=0.5em,
  xrightmargin=0.5em,
  frame=single,
  framesep=0.5em
}